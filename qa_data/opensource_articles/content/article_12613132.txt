Категория: Битрикс24

ТЕМА: Обновление Битрикс24: удаление настройки PHP mbstring.func_overload

ПРОБЛЕМА:
При обновлении коробочной версии Битрикс24 возникает ошибка, требующая удаления настройки PHP `mbstring.func_overload`. Использование данного параметра объявлено устаревшим начиная с PHP 7.2.0, и его наличие препятствует установке обновлений продукта.

РЕШЕНИЕ:
1. Проверка и изменение настройки PHP:
   - Зайдите в административное меню Битрикс24: `Настройки → Инструменты → Диагностика → Настройки PHP`.
   - Найдите параметр `mbstring.func_overload`.
   - Если его значение не равно `0`, измените его на `0` (`mbstring.func_overload=0`) или удалите параметр из конфигурации PHP сервера.

2. Обращение к специалистам:
   - Для внесения необходимый изменений обратитесь к вашему системному администратору или хостинг-провайдеру.

3. Для пользователей VMBitrix:
   - Обновите виртуальную машину до последней версии, выбрав в меню пункт `2. Manage localhost - 6. Update server`.
   - Ручное обновление (в VMBitrix):
     - Удалите строку `mbstring.func_overload=2` из файла `/etc/php.d/bitrixenv.ini`.
     - Перезапустите Apache: `systemctl restart httpd.service`.

ВАЖНО:
- Перед обновлением рекомендуется сделать резервное копирование виртуальной машины (если используется VMBitrix).
- Сторонние решения, используемые в Битрикс24 или на сайте, могут потребовать доработки для соответствия новым требованиям PHP.

ТЕХНИЧЕСКИЕ ДЕТАЛИ:
- Функция `mbstring.func_overload` объявлена устаревшей в PHP 7.2.0.
- Рекомендуется выставить значение `mbstring.func_overload=0` или удалить параметр.
- Команда для перезапуска Apache: `systemctl restart httpd.service`.

СВЯЗАННЫЕ ВОПРОСЫ:
- Как узнать, какие сторонние решения используются в моем Битрикс24?
- Где найти конфигурационный файл PHP для внесения изменений?
- Какие еще настройки PHP могут стать причиной проблем при обновлении?